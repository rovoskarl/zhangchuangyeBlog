(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{99:function(s,a,E){"use strict";E.r(a);var C={created:function(){this.content=unescape("%3Ch3%3Eappcan.connectSocket%28OBJECT%29%3C/h3%3E%0A%3Cp%3E%u521B%u5EFA%u4E00%u4E2A%20WebSocket%20%u8FDE%u63A5%uFF1B%3C/p%3E%0A%3Ch4%3E%u652F%u6301%u5B58%u5728%u591A%u4E2A%20WebSokcet%20%u8FDE%u63A5%uFF0C%u6BCF%u6B21%u6210%u529F%u8C03%u7528%20appcan.connectSocket%20%u4F1A%u8FD4%u56DE%u4E00%u4E2A%u65B0%u7684%20SocketTask%u3002%3C/h4%3E%0A%3Ch3%3EOBJECT%u53C2%u6570%u8BF4%u660E%uFF1A%3C/h3%3E%0A%3Ctable%3E%0A%3Cthead%3E%0A%3Ctr%3E%0A%3Cth%3E%u53C2%u6570%3C/th%3E%0A%3Cth%3E%u7C7B%u578B%3C/th%3E%0A%3Cth%3E%u5FC5%u586B%3C/th%3E%0A%3Cth%3E%u8BF4%u660E%3C/th%3E%0A%3C/tr%3E%0A%3C/thead%3E%0A%3Ctbody%3E%0A%3Ctr%3E%0A%3Ctd%3Eurl%3C/td%3E%0A%3Ctd%3EString%3C/td%3E%0A%3Ctd%3E%u662F%3C/td%3E%0A%3Ctd%3E%u5F00%u53D1%u8005%u670D%u52A1%u5668%u63A5%u53E3%u5730%u5740%uFF0C%u5FC5%u987B%u662F%20wss%20%u534F%u8BAE%uFF0C%u4E14%u57DF%u540D%u5FC5%u987B%u662F%u540E%u53F0%u914D%u7F6E%u7684%u5408%u6CD5%u57DF%u540D%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Eprotocols%3C/td%3E%0A%3Ctd%3EStringArray%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u5B50%u534F%u8BAE%u6570%u7EC4%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Esuccess%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u6210%u529F%u7684%u56DE%u8C03%u51FD%u6570%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Efail%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u5931%u8D25%u7684%u56DE%u8C03%u51FD%u6570%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Ecomplete%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u7ED3%u675F%u7684%u56DE%u8C03%u51FD%u6570%uFF08%u8C03%u7528%u6210%u529F%u3001%u5931%u8D25%u90FD%u4F1A%u6267%u884C%uFF09%3C/td%3E%0A%3C/tr%3E%0A%3C/tbody%3E%0A%3C/table%3E%0A%3Ch3%3E%u793A%u4F8B%u4EE3%u7801%uFF1A%3C/h3%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-javascript%22%3Eappcan.connectSocket%28%7B%0A%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eurl%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27test.php%27%3C/span%3E%2C%0A%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eprotocols%3C/span%3E%3A%20%5B%3Cspan%20class%3D%22hljs-string%22%3E%27protocol1%27%3C/span%3E%5D%0A%7D%29%0A%3C/code%3E%3C/pre%3E%0A%3Ch3%3Eappcan.onSocketOpen%28CALLBACK%29%3C/h3%3E%0A%3Cp%3E%u76D1%u542CWebSocket%u8FDE%u63A5%u6253%u5F00%u4E8B%u4EF6%u3002%3C/p%3E%0A%3Ch3%3E%u793A%u4F8B%u4EE3%u7801%uFF1A%3C/h3%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-javascript%22%3Eappcan.connectSocket%28%7B%0A%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eurl%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27test.php%27%3C/span%3E%0A%7D%29%0Aappcan.onSocketOpen%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Econsole%3C/span%3E.log%28%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%u8FDE%u63A5%u5DF2%u6253%u5F00%uFF01%27%3C/span%3E%29%0A%7D%29%0A%3C/code%3E%3C/pre%3E%0A%3Ch3%3Eappcan.onSocketError%28CALLBACK%29%3C/h3%3E%0A%3Cp%3E%u76D1%u542CWebSocket%u9519%u8BEF%u3002%3C/p%3E%0A%3Ch3%3E%u793A%u4F8B%u4EE3%u7801%uFF1A%3C/h3%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-javascript%22%3Eappcan.connectSocket%28%7B%0A%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eurl%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27test.php%27%3C/span%3E%0A%7D%29%0Aappcan.onSocketOpen%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Econsole%3C/span%3E.log%28%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%u8FDE%u63A5%u5DF2%u6253%u5F00%uFF01%27%3C/span%3E%29%0A%7D%29%0Aappcan.onSocketError%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Econsole%3C/span%3E.log%28%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%u8FDE%u63A5%u6253%u5F00%u5931%u8D25%uFF0C%u8BF7%u68C0%u67E5%uFF01%27%3C/span%3E%29%0A%7D%29%0A%3C/code%3E%3C/pre%3E%0A%3Ch3%3Eappcan.sendSocketMessage%28OBJECT%29%3C/h3%3E%0A%3Cp%3E%u901A%u8FC7%20WebSocket%20%u8FDE%u63A5%u53D1%u9001%u6570%u636E%uFF0C%u9700%u8981%u5148%20appcan.connectSocket%uFF0C%u5E76%u5728%20appcan.onSocketOpen%20%u56DE%u8C03%u4E4B%u540E%u624D%u80FD%u53D1%u9001%u3002%3C/p%3E%0A%3Ch3%3EOBJECT%u53C2%u6570%u8BF4%u660E%uFF1A%3C/h3%3E%0A%3Ctable%3E%0A%3Cthead%3E%0A%3Ctr%3E%0A%3Cth%3E%u53C2%u6570%3C/th%3E%0A%3Cth%3E%u7C7B%u578B%3C/th%3E%0A%3Cth%3E%u5FC5%u586B%3C/th%3E%0A%3Cth%3E%u8BF4%u660E%3C/th%3E%0A%3C/tr%3E%0A%3C/thead%3E%0A%3Ctbody%3E%0A%3Ctr%3E%0A%3Ctd%3Edata%3C/td%3E%0A%3Ctd%3EString/ArrayBuffer%3C/td%3E%0A%3Ctd%3E%u662F%3C/td%3E%0A%3Ctd%3E%u9700%u8981%u53D1%u9001%u7684%u5185%u5BB9%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Esuccess%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u6210%u529F%u7684%u56DE%u8C03%u51FD%u6570%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Efail%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u5931%u8D25%u7684%u56DE%u8C03%u51FD%u6570%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Ecomplete%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u7ED3%u675F%u7684%u56DE%u8C03%u51FD%u6570%uFF08%u8C03%u7528%u6210%u529F%u3001%u5931%u8D25%u90FD%u4F1A%u6267%u884C%uFF09%3C/td%3E%0A%3C/tr%3E%0A%3C/tbody%3E%0A%3C/table%3E%0A%3Ch3%3E%u793A%u4F8B%u4EE3%u7801%uFF1A%3C/h3%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-javascript%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20socketOpen%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20socketMsgQueue%20%3D%20%5B%5D%0Aappcan.connectSocket%28%7B%0A%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eurl%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27test.php%27%3C/span%3E%0A%7D%29%0Aappcan.onSocketOpen%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20socketOpen%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Etrue%3C/span%3E%0A%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Efor%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20i%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E0%3C/span%3E%3B%20i%20%26lt%3B%20socketMsgQueue.length%3B%20i++%29%20%7B%0A%20%20%20%20sendSocketMessage%28socketMsgQueue%5Bi%5D%29%0A%20%20%7D%0A%20%20socketMsgQueue%20%3D%20%5B%5D%0A%7D%29%0A%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%3Cspan%20class%3D%22hljs-title%22%3EsendSocketMessage%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Emsg%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C/span%3E%20%28socketOpen%29%20%7B%0A%20%20%20%20appcan.sendSocketMessage%28%7B%0A%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Edata%3C/span%3E%3A%20msg%0A%20%20%20%20%7D%29%0A%20%20%7D%20%3Cspan%20class%3D%22hljs-keyword%22%3Eelse%3C/span%3E%20%7B%0A%20%20%20%20socketMsgQueue.push%28msg%29%0A%20%20%7D%0A%7D%0A%3C/code%3E%3C/pre%3E%0A%3Ch3%3Eappcan.onSocketMessage%28CALLBACK%29%3C/h3%3E%0A%3Cp%3E%u76D1%u542CWebSocket%u63A5%u53D7%u5230%u670D%u52A1%u5668%u7684%u6D88%u606F%u4E8B%u4EF6%u3002%3C/p%3E%0A%3Ch3%3ECALLBACK%u8FD4%u56DE%u53C2%u6570%uFF1A%3C/h3%3E%0A%3Ctable%3E%0A%3Cthead%3E%0A%3Ctr%3E%0A%3Cth%3E%u53C2%u6570%3C/th%3E%0A%3Cth%3E%u7C7B%u578B%3C/th%3E%0A%3Cth%3E%u8BF4%u660E%3C/th%3E%0A%3C/tr%3E%0A%3C/thead%3E%0A%3Ctbody%3E%0A%3Ctr%3E%0A%3Ctd%3Edata%3C/td%3E%0A%3Ctd%3EString/ArrayBuffer%3C/td%3E%0A%3Ctd%3E%u670D%u52A1%u5668%u8FD4%u56DE%u7684%u6D88%u606F%3C/td%3E%0A%3C/tr%3E%0A%3C/tbody%3E%0A%3C/table%3E%0A%3Ch3%3E%u793A%u4F8B%u4EE3%u7801%uFF1A%3C/h3%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-javascript%22%3Eappcan.connectSocket%28%7B%0A%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eurl%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27test.php%27%3C/span%3E%0A%7D%29%0Aappcan.onSocketMessage%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Econsole%3C/span%3E.log%28%3Cspan%20class%3D%22hljs-string%22%3E%27%u6536%u5230%u670D%u52A1%u5668%u5185%u5BB9%uFF1A%27%3C/span%3E%20+%20res.data%29%0A%7D%29%0A%3C/code%3E%3C/pre%3E%0A%3Ch3%3Eappcan.closeSocket%28OBJECT%29%3C/h3%3E%0A%3Cp%3E%u5173%u95EDWebSocket%u8FDE%u63A5%u3002%3C/p%3E%0A%3Ch3%3EOBJECT%u53C2%u6570%u8BF4%u660E%uFF1A%3C/h3%3E%0A%3Ctable%3E%0A%3Cthead%3E%0A%3Ctr%3E%0A%3Cth%3E%u53C2%u6570%3C/th%3E%0A%3Cth%3E%u7C7B%u578B%3C/th%3E%0A%3Cth%3E%u5FC5%u586B%3C/th%3E%0A%3Cth%3E%u8BF4%u660E%3C/th%3E%0A%3C/tr%3E%0A%3C/thead%3E%0A%3Ctbody%3E%0A%3Ctr%3E%0A%3Ctd%3Ecode%3C/td%3E%0A%3Ctd%3ENumber%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u4E00%u4E2A%u6570%u5B57%u503C%u8868%u793A%u5173%u95ED%u8FDE%u63A5%u7684%u72B6%u6001%u53F7%uFF0C%u8868%u793A%u8FDE%u63A5%u88AB%u5173%u95ED%u7684%u539F%u56E0%u3002%u5982%u679C%u8FD9%u4E2A%u53C2%u6570%u6CA1%u6709%u88AB%u6307%u5B9A%uFF0C%u9ED8%u8BA4%u7684%u53D6%u503C%u662F1000%20%uFF08%u8868%u793A%u6B63%u5E38%u8FDE%u63A5%u5173%u95ED%uFF09%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Ereason%3C/td%3E%0A%3Ctd%3EString%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u4E00%u4E2A%u53EF%u8BFB%u7684%u5B57%u7B26%u4E32%uFF0C%u8868%u793A%u8FDE%u63A5%u88AB%u5173%u95ED%u7684%u539F%u56E0%u3002%u8FD9%u4E2A%u5B57%u7B26%u4E32%u5FC5%u987B%u662F%u4E0D%u957F%u4E8E123%u5B57%u8282%u7684UTF-8%20%u6587%u672C%uFF08%u4E0D%u662F%u5B57%u7B26%uFF09%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Esuccess%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u6210%u529F%u7684%u56DE%u8C03%u51FD%u6570%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Efail%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u5931%u8D25%u7684%u56DE%u8C03%u51FD%u6570%3C/td%3E%0A%3C/tr%3E%0A%3Ctr%3E%0A%3Ctd%3Ecomplete%3C/td%3E%0A%3Ctd%3EFunction%3C/td%3E%0A%3Ctd%3E%u5426%3C/td%3E%0A%3Ctd%3E%u63A5%u53E3%u8C03%u7528%u7ED3%u675F%u7684%u56DE%u8C03%u51FD%u6570%uFF08%u8C03%u7528%u6210%u529F%u3001%u5931%u8D25%u90FD%u4F1A%u6267%u884C%uFF09%3C/td%3E%0A%3C/tr%3E%0A%3C/tbody%3E%0A%3C/table%3E%0A%3Ch3%3Eappcan.onSocketClose%28CALLBACK%29%3C/h3%3E%0A%3Cp%3E%u76D1%u542CWebSocket%u5173%u95ED%u3002%3C/p%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-javascript%22%3Eappcan.connectSocket%28%7B%0A%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eurl%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27test.php%27%3C/span%3E%0A%7D%29%0A%3Cspan%20class%3D%22hljs-comment%22%3E//%u6CE8%u610F%u8FD9%u91CC%u6709%u65F6%u5E8F%u95EE%u9898%uFF0C%3C/span%3E%0A%3Cspan%20class%3D%22hljs-comment%22%3E//%u5982%u679C%20appcan.connectSocket%20%u8FD8%u6CA1%u56DE%u8C03%20appcan.onSocketOpen%uFF0C%u800C%u5148%u8C03%u7528%20appcan.closeSocket%uFF0C%u90A3%u4E48%u5C31%u505A%u4E0D%u5230%u5173%u95ED%20WebSocket%20%u7684%u76EE%u7684%u3002%3C/span%3E%0A%3Cspan%20class%3D%22hljs-comment%22%3E//%u5FC5%u987B%u5728%20WebSocket%20%u6253%u5F00%u671F%u95F4%u8C03%u7528%20appcan.closeSocket%20%u624D%u80FD%u5173%u95ED%u3002%3C/span%3E%0Aappcan.onSocketOpen%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3E%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20appcan.closeSocket%28%29%0A%7D%29%0Aappcan.onSocketClose%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Econsole%3C/span%3E.log%28%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%20%u5DF2%u5173%u95ED%uFF01%27%3C/span%3E%29%0A%7D%29%0A%3C/code%3E%3C/pre%3E%0A%3Ch3%3EBug%20%26amp%3B%20Tip%3C/h3%3E%0A%3Cp%3E%3Cstrong%3Etip%3C/strong%3E%3A%20createSocket%20%u94FE%u63A5%u9ED8%u8BA4%u548C%u6700%u5927%u8D85%u65F6%u65F6%u95F4%u90FD%u662F%2060s%0A%3Cstrong%3Etip%3C/strong%3E%3A%20%u7F51%u7EDC%u8BF7%u6C42%u7684%20referer%20%u662F%u4E0D%u53EF%u4EE5%u8BBE%u7F6E%u7684%3C/p%3E%0A%3Ch3%3E%u5B8C%u6574%u793A%u4F8B%3C/h3%3E%0A%3Cp%3E%u8FD9%u91CC%u7EFC%u5408%u6F14%u793A%u4E86webSocket%u7684%u5EFA%u7ACB%u8FDE%u63A5%u3001%u53D1%u9001%u6570%u636E%u3001%u5173%u95ED%u8FDE%u63A5%u7B49%u529F%u80FD%u3002%3C/p%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-html%22%3E%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Eac-layout%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Eac-view%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Eclass%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22content%22%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Eac-button%3C/span%3E%20@%3Cspan%20class%3D%22hljs-attr%22%3Etap%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22establish%22%3C/span%3E%26gt%3B%3C/span%3E%u521B%u5EFA%20WebSocket%20%u8FDE%u63A5%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B/%3Cspan%20class%3D%22hljs-name%22%3Eac-button%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Eac-button%3C/span%3E%20@%3Cspan%20class%3D%22hljs-attr%22%3Etap%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22close%22%3C/span%3E%26gt%3B%3C/span%3E%u5173%u95ED%20WebSocket%20%u8FDE%u63A5%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B/%3Cspan%20class%3D%22hljs-name%22%3Eac-button%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Eac-input%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3E%3Avalue%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22exampleText%22%3C/span%3E%20@%3Cspan%20class%3D%22hljs-attr%22%3Einput%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22handleInputChange%22%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Eplaceholder%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22%u8BF7%u8F93%u5165%u6587%u5B57%u6D4B%u8BD5%22%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3E%3Adisabled%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22%21open%22%3C/span%3E%26gt%3B%3C/span%3E%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B/%3Cspan%20class%3D%22hljs-name%22%3Eac-input%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Eac-button%3C/span%3E%20@%3Cspan%20class%3D%22hljs-attr%22%3Etap%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%27sendSocketMessage%27%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Etype%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22primary%22%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3E%3Adisabled%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22%21disabled%22%3C/span%3E%26gt%3B%3C/span%3E%u901A%u8FC7%20WebSocket%20%u8FDE%u63A5%u53D1%u9001%u6570%u636E%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B/%3Cspan%20class%3D%22hljs-name%22%3Eac-button%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B%3Cspan%20class%3D%22hljs-name%22%3Eac-textarea%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3E%3Avalue%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22text%22%3C/span%3E%20%3Cspan%20class%3D%22hljs-attr%22%3Eclass%3C/span%3E%3D%3Cspan%20class%3D%22hljs-string%22%3E%22info%22%3C/span%3E%26gt%3B%3C/span%3E%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B/%3Cspan%20class%3D%22hljs-name%22%3Eac-textarea%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B/%3Cspan%20class%3D%22hljs-name%22%3Eac-view%3C/span%3E%26gt%3B%3C/span%3E%0A%20%20%20%20%3Cspan%20class%3D%22hljs-tag%22%3E%26lt%3B/%3Cspan%20class%3D%22hljs-name%22%3Eac-layout%3C/span%3E%26gt%3B%3C/span%3E%0A%3C/code%3E%3C/pre%3E%0A%3Ch3%3EJS%u90E8%u5206%3C/h3%3E%0A%3Cpre%3E%3Ccode%20class%3D%22language-javascript%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Econst%3C/span%3E%20sendUrl%20%3D%20%3Cspan%20class%3D%22hljs-string%22%3E%27http%3A//192.168.89.35%3A56717%27%3C/span%3E%0A%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eexport%3C/span%3E%20%3Cspan%20class%3D%22hljs-keyword%22%3Edefault%3C/span%3E%20%7B%0A%20%20%20%20data%20%28%29%20%7B%0A%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Ereturn%3C/span%3E%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eloading%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%2C%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Edisabled%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%2C%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eopen%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%2C%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etext%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27%27%3C/span%3E%2C%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3EsocketOpen%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%2C%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3EexampleText%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27%27%3C/span%3E%2C%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3EsocketMsgQueue%3C/span%3E%3A%20%5B%5D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Emethods%3C/span%3E%3A%20%7B%0A%20%20%20%20%20%20handleInputChange%20%28val%29%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Ethis%3C/span%3E.exampleText%20%3D%20val%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-comment%22%3E//%20console.log%28this.exampleText%29%3C/span%3E%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20establish%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20that%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Ethis%3C/span%3E%0A%20%20%20%20%20%20%20%20that.loading%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Etrue%3C/span%3E%0A%20%20%20%20%20%20%20%20appcan.connectSocket%28%7B%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Eurl%3C/span%3E%3A%20sendUrl%2C%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Esuccess%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%u521B%u5EFA%u6210%u529F%uFF01%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20that.loading%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.socketOpen%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Etrue%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.disabled%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Etrue%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.open%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Etrue%3C/span%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.onSocketOpen%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%u8FDE%u63A5%u5DF2%u6253%u5F00%uFF01%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Efor%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20i%20%3D%20%3Cspan%20class%3D%22hljs-number%22%3E0%3C/span%3E%3B%20i%20%26lt%3B%20that.socketMsgQueue.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20that.sendSocketMessage%28that.socketMsgQueue%5Bi%5D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20that.socketMsgQueue%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.onSocketError%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%u8FDE%u63A5%u6253%u5F00%u5931%u8D25%uFF0C%u8BF7%u68C0%u67E5%uFF01%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.onSocketMessage%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20that.text%20+%3D%20%3Cspan%20class%3D%22hljs-string%22%3E%27%u6536%u5230%u670D%u52A1%u5668%u8FD4%u56DE%u5185%u5BB9%uFF1A%27%3C/span%3E%20+%20res.data%20+%20%3Cspan%20class%3D%22hljs-string%22%3E%27%5Cn%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Efail%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%u521B%u5EFA%u5931%u8D25%uFF01%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20that.loading%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.socketOpen%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.disabled%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.open%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20sendSocketMessage%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20that%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Ethis%3C/span%3E%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20msg%20%3D%20that.exampleText%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Eif%3C/span%3E%20%28that.socketOpen%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20appcan.sendSocketMessage%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Edata%3C/span%3E%3A%20msg%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Esuccess%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-built_in%22%3Econsole%3C/span%3E.log%28res%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Efail%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27%u53D1%u9001%u5931%u8D25%uFF01%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%7D%20%3Cspan%20class%3D%22hljs-keyword%22%3Eelse%3C/span%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20that.socketMsgQueue.push%28msg%29%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20close%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-keyword%22%3Evar%3C/span%3E%20that%20%3D%20%3Cspan%20class%3D%22hljs-keyword%22%3Ethis%3C/span%3E%0A%20%20%20%20%20%20%20%20that.loading%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Etrue%3C/span%3E%0A%20%20%20%20%20%20%20%20appcan.closeSocket%28%7B%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Esuccess%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20that.socketOpen%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.disabled%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20that.open%20%3D%20%3Cspan%20class%3D%22hljs-literal%22%3Efalse%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27%u5173%u95EDWebSocket%u8FDE%u63A5%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.onSocketClose%28%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3Eres%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%20%u5DF2%u5173%u95ED%uFF01%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Efail%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-function%22%3E%3Cspan%20class%3D%22hljs-keyword%22%3Efunction%3C/span%3E%20%28%3Cspan%20class%3D%22hljs-params%22%3E%3C/span%3E%29%20%3C/span%3E%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20appcan.showToast%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22hljs-attr%22%3Etitle%3C/span%3E%3A%20%3Cspan%20class%3D%22hljs-string%22%3E%27WebSocket%20%u5173%u95ED%u5931%u8D25%27%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%3C/code%3E%3C/pre%3E%0A")}},u=E(2),n=Object(u.a)(C,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this.$createElement;return(this._self._c||s)("section",{domProps:{innerHTML:this._s(this.content)}})}],!1,null,null,null);a.default=n.exports}}]);